apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: gateway-secret
objects:
- apiVersion: v1
  kind: Secret
  metadata:
    annotations:
      qontract.recycle: "true"
    labels:
      app.kubernetes.io/component: api
      app.kubernetes.io/instance: rhobs
      app.kubernetes.io/name: rhobs-gateway
      app.kubernetes.io/part-of: rhobs
      app.kubernetes.io/version: 1fb4dafb58f6158c832f307d8e37729f390f4f5a
    name: rhobs-gateway
    namespace: rhobs-stage
  stringData:
    client-id: ${CLIENT_ID}
    client-secret: ${CLIENT_SECRET}
    issuer-url: https://sso.redhat.com/auth/realms/redhat-external
    tenants.yaml: |
      tenants:
      - name: hcp
        id: EFD08939-FE1D-41A1-A28A-BE9A9BC68003
        oidc:
          clientID: ${CLIENT_ID}
          clientSecret: ${CLIENT_SECRET}
          issuerURL: https://sso.redhat.com/auth/realms/redhat-external
          redirectURL: https://observatorium-mst.api.stage.openshift.com/oidc/odfms/callback
          usernameClaim: preferred_username
parameters:
- description: Organization ID for OSD
  name: OSD_ORGANIZATION_ID
- description: Organization ID for SD Ops
  name: SD_OPS_ORGANIZATION_ID
- description: Organization ID for CNVQE
  name: CNVQE_ORGANIZATION_ID
- description: Client ID for OIDC
  name: CLIENT_ID
- description: Client secret for OIDC
  name: CLIENT_SECRET
